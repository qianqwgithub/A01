$(function(){countDown=function(a){if(null==a.startTime)throw"args:startTime is null";if(null==a.endTime)throw"args:endTime is null";this.startTime=a.startTime.constructor==Date?a.startTime.getTime():a.startTime;this.endTime=a.endTime.constructor==Date?a.endTime.getTime():a.endTime;this.callback=a.callback||new Function;this.startCount()};countDown.prototype={startCount:function(){var a=this.startTime,b=this.endTime,c=this.callback,e=setInterval(function(){a++;if(a>b){clearInterval(e);c(0,0,0,0);}
else{var f=(b-a),d=parseInt(f/3600/24),m=parseInt((f-86400*d)/3600),g=parseInt((f-86400*d-3600*m)/60),f=parseInt(f-86400*d-3600*m-60*g);c(d,m,g,f);}},1000)}}
runCountDown();});function runCountDown(){$(".countdown").each(function(){var me=$(this);if(!me.hasClass("hasRun")){me.addClass("hasRun");if($(this).attr("endtime")){new countDown({startTime:1*$(this).attr("starttime"),endTime:1*$(this).attr("endtime"),callback:function(c,e,f,d){me.empty().html('<span>'+
(0!=c?'<em class="d f">'+c+'</em><cite class="d f">天</cite>':'')+
(0!=c?'<i class="h'+(0==c?' f':'')+'">:</i>':'')+'<em class="h'+(0==c?' f':'')+'">'+(10>e?'0'+e:e)+'</em><cite class="h'+(0==c?' f':'')+'">时</cite>'+'<i class="i">:</i>'+'<em class="i">'+(10>f?'0'+f:f)+'</em><cite class="i">分</cite>'+'<i class="s">:</i>'+'<em class="s">'+(10>d?'0'+d:d)+'</em><cite class="s">秒</cite>'+'</span>');0==c&&0==e&&0==f&&0==d&&me.empty().html("<span>\u5df2\u8fc7\u671f</span>");}})}};});}